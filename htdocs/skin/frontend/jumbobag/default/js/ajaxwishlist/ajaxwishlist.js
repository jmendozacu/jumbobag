jQuery(function(a){function b(b){a("body").append('<div class="alert"></div>'),a(".alert").slideDown(400),a(".alert").html(b).append("<button></button>"),a("button").click(function(){a(".alert").slideUp(400)}),a(".alert").slideDown("400",function(){setTimeout(function(){a(".alert").slideUp("400",function(){a(this).slideUp(400,function(){a(this).detach()})})},7e3)})}function c(c,d){c=c.replace("catalog/product_compare/add","ajaxwishlist/index/compare"),c+="isAjax/1/","https:"==document.location.protocol&&(c=c.replace("http:","https:")),a("#ajax_loading"+d).css("display","block"),a.ajax({url:c,dataType:"jsonp",success:function(c){a("#ajax_loading"+d).css("display","none"),b(c.message),"ERROR"!=c.status&&(a(".block-compare").replaceWith(c.sidebar),a(".compare-top-container").replaceWith(c.top_block),a(".col-left").masonry("reload"))}})}function d(c,d){c=c.replace("wishlist/index","ajaxwishlist/index"),c+="isAjax/1/","https:"==document.location.protocol&&(c=c.replace("http:","https:")),a("#ajax_loading"+d).css("display","block"),a.ajax({url:c,dataType:"jsonp",success:function(c){a("#ajax_loading"+d).css("display","none"),b(c.message),"ERROR"!=c.status&&(a(".block-wishlist").length?(a(".block-wishlist").replaceWith(c.sidebar),a(".col-left").masonry("reload")):a(".header-container .links").replaceWith(c.toplink))}})}a(".add-to-links .link-wishlist").live("click",function(){return d(a(this).attr("href"),a(this).attr("data-id")),!1}),a(".add-to-links .link-compare").live("click",function(){return c(a(this).attr("href"),a(this).attr("data-id")),!1})});