!function(e){!function(t){"use strict";var a=e.fn.revolution,i=a.is_mobile(),o=(a.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.6.4",version:"2.2.0"});function d(t){return null==t?-1:e.isNumeric(t)?t:t.split(":").length>1?60*parseInt(t.split(":")[0],0)+parseInt(t.split(":")[1],0):t}e.extend(!0,a,{preLoadAudio:function(t,i){if("stop"===a.compare_version(o).check)return!1;t.find(".tp-audiolayer").each(function(){var t=e(this),o={};0===t.find("audio").length&&(o.src=null!=t.data("videomp4")?t.data("videomp4"):"",o.pre=t.data("videopreload")||"",void 0===t.attr("id")&&t.attr("audio-layer-"+Math.round(199999*Math.random())),o.id=t.attr("id"),o.status="prepared",o.start=e.now(),o.waittime=1e3*t.data("videopreloadwait")||5e3,"auto"!=o.pre&&"canplaythrough"!=o.pre&&"canplay"!=o.pre&&"progress"!=o.pre||(void 0===i.audioqueue&&(i.audioqueue=[]),i.audioqueue.push(o),a.manageVideoLayer(t,i)))})},preLoadAudioDone:function(t,a,i){a.audioqueue&&a.audioqueue.length>0&&e.each(a.audioqueue,function(e,a){t.data("videomp4")!==a.src||a.pre!==i&&"auto"!==a.pre||(a.status="loaded")})},resetVideo:function(e,t,o,n){var r=e.data();switch(r.videotype){case"youtube":r.player;try{if("on"==r.forcerewind){var l=-1==(g=d(e.data("videostartat"))),s=1===r.bgvideo||e.find(".tp-videoposter").length>0;null!=r.player&&(g=-1==g?0:g,r.player.seekTo(g),r.player.pauseVideo())}}catch(e){}0==e.find(".tp-videoposter").length&&1!==r.bgvideo&&!0!==o&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":if(!n){var u=e.data("vimeoplayer");try{if("on"==r.forcerewind){l=-1==(g=d(r.videostartat)),s=1===r.bgvideo||e.find(".tp-videoposter").length>0;(0!==(g=-1==g?0:g)&&!l||s)&&(u.setCurrentTime(g),u.pause())}}catch(e){}}0==e.find(".tp-videoposter").length&&1!==r.bgvideo&&!0!==o&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(i&&1==r.disablevideoonmobile)return!1;var p="html5"==r.audio?"audio":"video",v=e.find(p),c=v[0];if(punchgs.TweenLite.to(v,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==r.forcerewind&&!e.hasClass("videoisplaying"))try{var g=d(r.videostartat);c.currentTime=-1==g?0:g}catch(e){}("mute"==r.volume||a.lastToggleState(e.videomutetoggledby)||!0===t.globalmute)&&(c.muted=!0)}},isVideoMuted:function(e,t){var a=!1,i=e.data();switch(i.videotype){case"youtube":try{a=i.player.isMuted()}catch(e){}break;case"vimeo":try{"mute"==i.volume&&(a=!0)}catch(e){}break;case"html5":var o="html5"==i.audio?"audio":"video";e.find(o)[0].muted&&(a=!0)}return a},muteVideo:function(e,t){var a=e.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","mute"),i.setVolume(0)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","1"),i.setVolume(1)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{e.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var o="html5"==a.audio?"audio":"video",d=e.find(o),n=d[0];null!=d&&null!=n&&n.pause()}},playVideo:function(e,t){clearTimeout(e.data("videoplaywait"));var i=e.data();switch(i.videotype){case"youtube":if(0==e.find("iframe").length)e.append(e.data("videomarkup")),s(e,t,!0);else if(null!=i.player.playVideo){var o=d(e.data("videostartat")),r=i.player.getCurrentTime();1==e.data("nextslideatend-triggered")&&(r=-1,e.data("nextslideatend-triggered",0)),-1!=o&&o>r&&i.player.seekTo(o),!0!==i.youtubepausecalled&&i.player.playVideo()}else e.data("videoplaywait",setTimeout(function(){!0!==i.youtubepausecalled&&a.playVideo(e,t)},50));break;case"vimeo":if(0==e.find("iframe").length)e.removeData("vimeoplayer"),e.append(e.data("videomarkup")),s(e,t,!0);else if(e.hasClass("rs-apiready")){var l,u=e.find("iframe").attr("id");e.data("vimeoplayer")?l=e.data("vimeoplayer"):(l=new Vimeo.Player(u),e.data("vimeoplayer",l)),l.getPaused()?setTimeout(function(){var t=d(e.data("videostartat")),a=e.data("currenttime");a||(a=0),1==e.data("nextslideatend-triggered")&&(a=-1,e.data("nextslideatend-triggered",0)),-1!=t&&t>a&&l.setCurrentTime(t),l.play()},510):e.data("videoplaywait",setTimeout(function(){!0!==i.vimeopausecalled&&a.playVideo(e,t)},50))}else e.data("videoplaywait",setTimeout(function(){!0!==i.vimeopausecalled&&a.playVideo(e,t)},50));break;case"html5":var p="html5"==i.audio?"audio":"video",v=e.find(p),c=v[0];if(1!=v.parent().data("metaloaded"))n(c,"loadedmetadata",function(e){a.resetVideo(e,t),c.play();var i=d(e.data("videostartat")),o=c.currentTime;1==e.data("nextslideatend-triggered")&&(o=-1,e.data("nextslideatend-triggered",0)),-1!=i&&i>o&&(c.currentTime=i)}(e));else{c.play();o=d(e.data("videostartat")),r=c.currentTime;1==e.data("nextslideatend-triggered")&&(r=-1,e.data("nextslideatend-triggered",0)),-1!=o&&o>r&&(c.currentTime=o)}}},isVideoPlaying:function(t,a){var i=!1;return null!=a.playingvideos&&e.each(a.playingvideos,function(e,a){t.attr("id")==a.attr("id")&&(i=!0)}),i},removeMediaFromList:function(e,t){g(e,t)},prepareCoveredVideo:function(t,i){if(void 0===i.data("vimeoid")||void 0!==i.data("vimeoplayerloaded")){var o={};if(o.ifr=i.find("iframe, video"),o.asp=i.data("aspectratio"),o.wa=o.asp.split(":")[0],o.ha=o.asp.split(":")[1],o.vd=o.wa/o.ha,0===t.conw||0===t.conh)return a.setSize(t),clearTimeout(o.ifr.data("resizelistener")),void o.ifr.data("resizelistener",setTimeout(function(){a.prepareCoveredVideo(t,i)},100));var d=t.conw/t.conh,n=d/o.vd*100,r=o.vd/d*100;d>o.vd?punchgs.TweenLite.set(o.ifr,{height:n+"%",width:"100%",top:-(n-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(o.ifr,{width:r+"%",height:"100%",left:-(r-100)/2+"%",top:"0px",position:"absolute"}),o.ifr.hasClass("resizelistener")||(o.ifr.addClass("resizelistener"),e(window).resize(function(){a.prepareCoveredVideo(t,i),clearTimeout(o.ifr.data("resizelistener")),o.ifr.data("resizelistener",setTimeout(function(){a.prepareCoveredVideo(t,i)},90))}))}},checkVideoApis:function(t,a,i){location.protocol;if((null!=t.data("ytid")||t.find("iframe").length>0&&t.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(a.youtubeapineeded=!0),(null!=t.data("ytid")||t.find("iframe").length>0&&t.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==i.addedyt){a.youtubestarttime=e.now(),i.addedyt=1;var o=document.createElement("script");o.src="https://www.youtube.com/iframe_api";var d=document.getElementsByTagName("script")[0],n=!0;e("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==e(this).attr("src")&&(n=!1)}),n&&d.parentNode.insertBefore(o,d)}if((null!=t.data("vimeoid")||t.find("iframe").length>0&&t.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(a.vimeoapineeded=!0),(null!=t.data("vimeoid")||t.find("iframe").length>0&&t.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==i.addedvim){a.vimeostarttime=e.now(),i.addedvim=1;var r=document.createElement("script");d=document.getElementsByTagName("script")[0],n=!0;r.src="https://player.vimeo.com/api/player.js",e("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==e(this).attr("src")&&(n=!1)}),n&&d.parentNode.insertBefore(r,d)}return i},manageVideoLayer:function(t,r,l,u){if("stop"===a.compare_version(o).check)return!1;var p=t.data(),c=p.videoattributes,g=p.ytid,m=p.vimeoid,f="auto"===p.videopreload||"canplay"===p.videopreload||"canplaythrough"===p.videopreload||"progress"===p.videopreload?"auto":p.videopreload,y=p.videomp4,h=p.videowebm,b=p.videoogv,w=p.allowfullscreenvideo,T=p.videocontrols,k="http",x="loop"==p.videoloop?"loop":"loopandnoslidestop"==p.videoloop?"loop":"",V=null!=y||null!=h?"html5":null!=g&&String(g).length>1?"youtube":null!=m&&String(m).length>1?"vimeo":"none",L="html5"==p.audio?"audio":"video",C="html5"==V&&0==t.find(L).length?"html5":"youtube"==V&&0==t.find("iframe").length?"youtube":"vimeo"==V&&0==t.find("iframe").length?"vimeo":"none";switch(x=!0===p.nextslideatend?"":x,p.videotype=V,C){case"html5":"controls"!=T&&(T="");L="video";"html5"==p.audio&&(L="audio",t.addClass("tp-audio-html5"));var P="";"video"===L&&(a.is_mobile()||a.isSafari11())&&("on"===p.autoplay||"true"===p.autoplay||!0===p.autoplay?P="muted playsinline autoplay":1!=p.videoinline&&"true"!==p.videoinline&&1!==p.videoinline||(P+=" playsinline"));var I="<"+L+" "+P+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+x+' preload="'+f+'">';"auto"==f&&(r.mediapreload=!0),"video"===L?(null!=h&&"firefox"==a.get_browser().toLowerCase()&&(I=I+'<source src="'+h+'" type="video/webm" />'),null!=y&&(I=I+'<source src="'+y+'" type="video/mp4" />'),null!=b&&(I=I+'<source src="'+b+'" type="video/ogg" />')):"audio"===L&&(null!=y&&(I=I+'<source src="'+y+'" type="audio/mpeg" />'),null!=b&&(I=I+'<source src="'+b+'" type="audio/ogg" />')),I=I+"</"+L+">";var _="";"true"!==w&&!0!==w||(_='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==T&&(I=I+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+_+"</div>"),t.data("videomarkup",I),t.append(I),(i&&1==t.data("disablevideoonmobile")||a.isIE(8))&&t.find(L).remove(),t.find(L).each(function(i){var o,d=e(this);d.parent().hasClass("html5vid")||d.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=d.parent().data("metaloaded")&&n(this,"loadedmetadata",(v(o=t,r),void a.resetVideo(o,r)))});break;case"youtube":k="https","none"==T&&-1==(c=c.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(c+="&controls=0"),(!0===p.videoinline||"true"===p.videoinline||1===p.videoinline||t.hasClass("rs-background-video-layer"))&&(c+="&playsinline=1");var S=d(t.data("videostartat")),A=d(t.data("videoendat"));-1!=S&&(c=c+"&start="+S),-1!=A&&(c=c+"&end="+A);var O=c.split("origin="+k+"://"),M="";O.length>1?(M=O[0]+"origin="+k+"://",self.location.href.match(/www/gi)&&!O[1].match(/www/gi)&&(M+="www."),M+=O[1]):M=c;var z="true"===w||!0===w?"allowfullscreen":"";t.data("videomarkup",'<iframe type="text/html" src="'+k+"://www.youtube.com/embed/"+g+"?"+M+'" '+z+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":k="https",t.data("videomarkup",'<iframe src="'+k+"://player.vimeo.com/video/"+m+"?"+c+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var F=i&&"on"==t.data("noposteronmobile");if(null!=p.videoposter&&p.videoposter.length>2&&!F)0==t.find(".tp-videoposter").length&&t.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+p.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==t.find("iframe").length&&t.find(".tp-videoposter").click(function(){if(a.playVideo(t,r),i){if(1==t.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(t.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(i&&1==t.data("disablevideoonmobile"))return!1;0!=t.find("iframe").length||"youtube"!=V&&"vimeo"!=V||(t.removeData("vimeoplayer"),t.append(t.data("videomarkup")),s(t,r,!1))}"none"!=t.data("dottedoverlay")&&null!=t.data("dottedoverlay")&&1!=t.find(".tp-dottedoverlay").length&&t.append('<div class="tp-dottedoverlay '+t.data("dottedoverlay")+'"></div>'),t.addClass("HasListener"),1==t.data("bgvideo")&&punchgs.TweenLite.set(t.find("video, iframe"),{autoAlpha:0})}});var n=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},r=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},l=function(e,t){if(1==t.data("bgvideo")||1==t.data("forcecover")){1===t.data("forcecover")&&t.removeClass("fullscreenvideo").addClass("coverscreenvideo");var i=t.data("aspectratio");void 0===i&&i.split(":").length<=1&&t.data("aspectratio","16:9"),a.prepareCoveredVideo(e,t)}},s=function(t,o,n){var s=t.data(),v=t.find("iframe"),m="iframe"+Math.round(1e5*Math.random()+1),f=s.videoloop,y="loopandnoslidestop"!=f;if(f="loop"==f||"loopandnoslidestop"==f,l(o,t),v.attr("id",m),n&&t.data("startvideonow",!0),1!==t.data("videolistenerexist"))switch(s.videotype){case"youtube":var h=new YT.Player(m,{events:{onStateChange:function(e){var i=t.closest(".tp-simpleresponsive"),n=(s.videorate,t.data("videostart"),p());if(e.data==YT.PlayerState.PLAYING)punchgs.TweenLite.to(t.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==t.data("volume")||a.lastToggleState(t.data("videomutetoggledby"))||!0===o.globalmute?h.mute():(h.unMute(),h.setVolume(parseInt(t.data("volume"),0)||75)),o.videoplaying=!0,c(t,o),y?o.c.trigger("stoptimer"):o.videoplaying=!1,o.c.trigger("revolution.slide.onvideoplay",r(h,"youtube",t.data())),a.toggleState(s.videotoggledby);else{if(0==e.data&&f){var l=d(t.data("videostartat"));-1!=l&&h.seekTo(l),h.playVideo(),a.toggleState(s.videotoggledby)}n||0!=e.data&&2!=e.data||!("on"==t.data("showcoveronpause")&&t.find(".tp-videoposter").length>0||1===t.data("bgvideo")&&t.find(".rs-fullvideo-cover").length>0)||(1===t.data("bgvideo")?punchgs.TweenLite.to(t.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(t.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=e.data&&3!=e.data&&(o.videoplaying=!1,o.tonpause=!1,g(t,o),i.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",r(h,"youtube",t.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=t.attr("id")||a.unToggleState(s.videotoggledby)),0==e.data&&1==t.data("nextslideatend")?(u(),t.data("nextslideatend-triggered",1),o.c.revnext(),g(t,o)):(g(t,o),o.videoplaying=!1,i.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",r(h,"youtube",t.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=t.attr("id")||a.unToggleState(s.videotoggledby))}},onReady:function(e){var o,n=a.is_mobile(),r=t.hasClass("tp-videolayer");if(n||a.isSafari11()){var l=r&&"off"!==t.data("autoplay");if(t.hasClass("rs-background-video-layer")||l)n&&r||(o=!0,h.setVolume(0),t.data("volume","mute"),h.mute(),clearTimeout(t.data("mobilevideotimr")),t.data("mobilevideotimr",setTimeout(function(){h.playVideo()},500)))}o||"mute"!=t.data("volume")||(h.setVolume(0),h.mute());var u=s.videorate;t.data("videostart");if(t.addClass("rs-apiready"),null!=u&&e.target.setPlaybackRate(parseFloat(u)),t.find(".tp-videoposter").unbind("click"),t.find(".tp-videoposter").click(function(){i||h.playVideo()}),t.data("startvideonow")){s.player.playVideo();var p=d(t.data("videostartat"));-1!=p&&s.player.seekTo(p)}t.data("videolistenerexist",1)}}});t.data("player",h);break;case"vimeo":for(var b,w=v.attr("src"),T={},k=w,x=/([^&=]+)=([^&]*)/g;b=x.exec(k);)T[decodeURIComponent(b[1])]=decodeURIComponent(b[2]);w=(w=null!=T.player_id?w.replace(T.player_id,m):w+"&player_id="+m).replace(/&api=0|&api=1/g,"");var V=a.is_mobile(),L=V||a.isSafari11(),C=t.hasClass("rs-background-video-layer");L&&C&&(w+="&background=1"),v.attr("src",w);h=t.find("iframe")[0],e("#"+m);if(t.data("vimeoplayer")?S=t.data("vimeoplayer"):(S=new Vimeo.Player(m),t.data("vimeoplayer",S)),L){var P;if(C)P=!0;else{var I=t.data("autoplay");"on"!==I&&"true"!==I&&!0!==I||(V&&t.data("autoplay",!1),P=!0)}P&&(S.setVolume(0),t.data("volume","mute"))}if(S.on("loaded",function(e){var a={};S.getVideoWidth().then(function(e){a.width=e,void 0!==a.width&&void 0!==a.height&&(t.data("aspectratio",a.width+":"+a.height),t.data("vimeoplayerloaded",!0),l(o,t))}),S.getVideoHeight().then(function(e){a.height=e,void 0!==a.width&&void 0!==a.height&&(t.data("aspectratio",a.width+":"+a.height),t.data("vimeoplayerloaded",!0),l(o,t))})}),t.addClass("rs-apiready"),S.on("play",function(e){t.data("nextslidecalled",0),punchgs.TweenLite.to(t.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),o.c.trigger("revolution.slide.onvideoplay",r(S,"vimeo",t.data())),o.videoplaying=!0,c(t,o),y?o.c.trigger("stoptimer"):o.videoplaying=!1,"mute"==t.data("volume")||a.lastToggleState(t.data("videomutetoggledby"))||!0===o.globalmute?S.setVolume(0):S.setVolume(parseInt(t.data("volume"),0)/100||.75),a.toggleState(s.videotoggledby)}),S.on("timeupdate",function(e){var a=d(t.data("videoendat"));if(t.data("currenttime",e.seconds),0!=a&&Math.abs(a-e.seconds)<1&&a>e.seconds&&1!=t.data("nextslidecalled"))if(f){S.play();var i=d(t.data("videostartat"));-1!=i&&S.setCurrentTime(i)}else 1==t.data("nextslideatend")&&(t.data("nextslideatend-triggered",1),t.data("nextslidecalled",1),o.c.revnext()),S.pause()}),S.on("ended",function(e){g(t,o),o.videoplaying=!1,o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",r(S,"vimeo",t.data())),1==t.data("nextslideatend")&&(t.data("nextslideatend-triggered",1),o.c.revnext()),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=t.attr("id")||a.unToggleState(s.videotoggledby)}),S.on("pause",function(e){("on"==t.data("showcoveronpause")&&t.find(".tp-videoposter").length>0||1===t.data("bgvideo")&&t.find(".rs-fullvideo-cover").length>0)&&(1===t.data("bgvideo")?punchgs.TweenLite.to(t.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(t.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(t.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.videoplaying=!1,o.tonpause=!1,g(t,o),o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",r(S,"vimeo",t.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=t.attr("id")||a.unToggleState(s.videotoggledby)}),t.find(".tp-videoposter").unbind("click"),t.find(".tp-videoposter").click(function(){if(!i)return S.play(),!1}),t.data("startvideonow"))S.play(),-1!=(_=d(t.data("videostartat")))&&S.setCurrentTime(_);t.data("videolistenerexist",1)}else{var _=d(t.data("videostartat"));switch(s.videotype){case"youtube":n&&(s.player.playVideo(),-1!=_&&s.player.seekTo());break;case"vimeo":var S;if(n)(S=t.data("vimeoplayer")).play(),-1!=_&&S.seekTo(_)}}},u=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},p=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var t=5;return e.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(t=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<t}catch(e){}},v=function(e,t,o){if(i&&1==e.data("disablevideoonmobile"))return!1;var l=e.data(),s="html5"==l.audio?"audio":"video",v=e.find(s),m=v[0],f=v.parent(),y=l.videoloop,h="loopandnoslidestop"!=y;if(y="loop"==y||"loopandnoslidestop"==y,f.data("metaloaded",1),1!=e.data("bgvideo")||"none"!==l.videoloop&&!1!==l.videoloop||(h=!1),null==v.attr("control")&&(0!=e.find(".tp-video-play-button").length||i||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?m.pause():m.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo")||1==e.data("bgvideo"))if(1==e.data("forcecover")||1==e.data("bgvideo")){f.addClass("fullcoveredvideo");var b=e.data("aspectratio");void 0!==b&&1!=b.split(":").length||e.data("aspectratio","16:9"),a.prepareCoveredVideo(t,e)}else f.addClass("fullscreenvideo");var w=e.find(".tp-vid-play-pause")[0],T=e.find(".tp-vid-mute")[0],k=e.find(".tp-vid-full-screen")[0],x=e.find(".tp-seek-bar")[0],V=e.find(".tp-volume-bar")[0];null!=w&&n(w,"click",function(){1==m.paused?m.play():m.pause()}),null!=T&&n(T,"click",function(){0==m.muted?(m.muted=!0,T.innerHTML="Unmute"):(m.muted=!1,T.innerHTML="Mute")}),null!=k&&k&&n(k,"click",function(){m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen&&m.webkitRequestFullscreen()}),null!=x&&(n(x,"change",function(){var e=m.duration*(x.value/100);m.currentTime=e}),n(x,"mousedown",function(){e.addClass("seekbardragged"),m.pause()}),n(x,"mouseup",function(){e.removeClass("seekbardragged"),m.play()})),n(m,"canplaythrough",function(){a.preLoadAudioDone(e,t,"canplaythrough")}),n(m,"canplay",function(){a.preLoadAudioDone(e,t,"canplay")}),n(m,"progress",function(){a.preLoadAudioDone(e,t,"progress")}),n(m,"timeupdate",function(){var a=100/m.duration*m.currentTime,i=d(e.data("videoendat")),o=m.currentTime;if(null!=x&&(x.value=a),0!=i&&-1!=i&&Math.abs(i-o)<=.3&&i>o&&1!=e.data("nextslidecalled"))if(y){m.play();var n=d(e.data("videostartat"));-1!=n&&(m.currentTime=n)}else 1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),t.just_called_nextslide_at_htmltimer=!0,t.c.revnext(),setTimeout(function(){t.just_called_nextslide_at_htmltimer=!1},1e3)),m.pause()}),null!=V&&n(V,"change",function(){m.volume=V.value}),n(m,"play",function(){e.data("nextslidecalled",0);var i=e.data("volume");i=null!=i&&"mute"!=i?parseFloat(i)/100:i,a.is_mobile()||a.isSafari11()||(!0===t.globalmute?m.muted=!0:m.muted=!1,i>1&&(i/=100),"mute"==i?m.muted=!0:null!=i&&(m.volume=i)),e.addClass("videoisplaying");var o="html5"==l.audio?"audio":"video";c(e,t),h&&"audio"!=o?(t.videoplaying=!0,t.c.trigger("stoptimer"),t.c.trigger("revolution.slide.onvideoplay",r(m,"html5",l))):(t.videoplaying=!1,"audio"!=o&&t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",r(m,"html5",l))),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(o),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var d=e.find(".tp-vid-play-pause")[0],n=e.find(".tp-vid-mute")[0];null!=d&&(d.innerHTML="Pause"),null!=n&&m.muted&&(n.innerHTML="Unmute"),a.toggleState(l.videotoggledby)}),n(m,"pause",function(i){var o="html5"==l.audio?"audio":"video";!p()&&e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&!e.hasClass("seekbardragged")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(o),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),e.removeClass("videoisplaying"),t.videoplaying=!1,g(e,t),"audio"!=o&&t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",r(m,"html5",e.data()));var d=e.find(".tp-vid-play-pause")[0];null!=d&&(d.innerHTML="Play"),null!=t.currentLayerVideoIsPlaying&&t.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||a.unToggleState(l.videotoggledby)}),n(m,"ended",function(){u(),g(e,t),t.videoplaying=!1,g(e,t),"audio"!=s&&t.c.trigger("starttimer"),t.c.trigger("revolution.slide.onvideostop",r(m,"html5",e.data())),!0===e.data("nextslideatend")&&m.currentTime>0&&(1==!t.just_called_nextslide_at_htmltimer&&(e.data("nextslideatend-triggered",1),t.c.revnext(),t.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){t.just_called_nextslide_at_htmltimer=!1},1500)),e.removeClass("videoisplaying")})},c=function(t,i){null==i.playingvideos&&(i.playingvideos=new Array),t.data("stopallvideos")&&null!=i.playingvideos&&i.playingvideos.length>0&&(i.lastplayedvideos=e.extend(!0,[],i.playingvideos),e.each(i.playingvideos,function(e,t){a.stopVideo(t,i)})),i.playingvideos.push(t),i.currentLayerVideoIsPlaying=t},g=function(t,a){null!=a.playingvideos&&e.inArray(t,a.playingvideos)>=0&&a.playingvideos.splice(e.inArray(t,a.playingvideos),1)}}()}($nwd_jQuery);